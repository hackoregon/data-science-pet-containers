---
title: "Getting Started with PostgreSQL"
author: "M. Edward (Ed) Borasky"
date: "`r Sys.Date()`"
bibliography: bibliography.bib
output: 
  beamer_presentation:
    theme: Montpellier
    slide_level: 2
---
# Introduction: PostgreSQL in Context

## Industry trends: NoSQL databases [@Redmond2012]
* Graph databases
* Key-value stores
* JSON document stores
* In-memory databases

## Industry trends: Backend frameworks (Apache/PHP, Ruby on Rails, Django)
* Work with *any* database (MySQL/MariaDB, SQLite, PostgreSQL)
* Just use the database for CRUD, application logic is all in PHP / Ruby / Python / JavaScript code!
* Wait - CRUD?
    - Create
    - Read (aka SELECT)
    - Update
    - Delete

## If all you want ...
* If all you want is an industrial-strength open-source permissive-licensed CRUD engine that
    - Is fully ACID compliant
    - Scales to huge installations
    - Has replication / failover / high availability as standard equipment
* Yeah, PostgreSQL's got that.

## But if you also want ...
* Full-text search
* Stored procedures in Python, Perl, Ruby, R, Tcl and Lua
* Foreign data (Text files, GIS data, MySQL/MariaDB, Redis) mapped into your database (foreign data wrappers)
* Key-value stores (hstore)
* JSON document stores (jsonb)
* Yeah, PostgreSQL's got that too!

## Speaking of industrial strength ...
* Geographic Information Systems (GIS)
* PostGIS
    - Read and write GIS data files
    - Process geometric, geographic and topology GIS data types
    - Both vector and raster data
     - Geocoding, reverse geocoding, address standardization
* pgRouting
    - Shortest / fastest / lowest cost routes from point A to point B
    - Traveling salesperson problem
    - Turn-by-turn directions for cars, bikes and pedestrians!
* Yeah, I want that CRUD too!

# PostgreSQL on the Desktop - single user

## Windows or Mac
* Go to EnterpriseDB download site <https://www.enterprisedb.com/downloads/postgres-postgresql-downloads>.
* Select the latest version (10.3)
* Select your operating system (Windows or Mac)
* Installation: install everything but don't run StackBuilder yet

## Linux: use the PGDG repositories
* RHEL / CentOS / Fedora: <https://www.postgresql.org/download/linux/redhat/>
* Ubuntu: <https://www.postgresql.org/download/linux/ubuntu/> (probably works for Linux Mint)
* Debian: <https://www.postgresql.org/download/linux/debian/>
* Installation: install PostgreSQL 10.3 and pgAdmin 4 for desktop

## Connecting with pgAdmin
* Reference: @Obe2017a, chapter 4

## Exploring the tree

## Creating a database

## Creating tables - DDL

## Reading a CSV file into a table - COPY

## Backing up a database

## Restoring a database

## Creating a query

# PostgreSQL on a (Linux) Server

## Two dialects of Linux
* Ubuntu 16.04.x LTS (most popular)
* RHEL 7 / CentOS 7

## Docker container
* Debian stable - similar to Ubuntu
* Alpine - avoid this unless you want to do a lot of research
* I have a full PostgreSQL / PostGIS / pgRouting stack in a container at <https://github.com/hackoregon/data-science-pet-containers>.
    - The documentation's a bit sparse still
    - Native executables will perform better
    - Docker hosting on a desktop / laptop isn't exactly end-user friendly yet

## The PGDG repositories

## Configuring
* Initializing the cluster
* Enabling and starting the service

## Listening address and port

## Authentication

## Fine-grained permissions and roles

## Tablespaces

# PostGIS

## Reading in GIS data [@Obe2015, chapter 4]
* Shapefiles
* "GDB" databases
* OpenStreetMap data

## Tagging points with a geometry column

## Geocoding [@Obe2015, chapter 8]
* There's a demo using a Docker container at <https://github.com/hackoregon/data-science-pet-containers/tree/master/examples/geocoding>.
* This uses a container running Debian Linux with a full PostgreSQL / PostGIS / pgRouting stack.
* ***I have not tested it on a Windows Docker host, just Linux. It undoubtedly needs some adjustments for the volumes mounted on host filesystems.***

## Spatial joins

# pgRouting - what it can do

## Turn-by-turn directions
* Reference: [@Obe2017]

# References

## References
